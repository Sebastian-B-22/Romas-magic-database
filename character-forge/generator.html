<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator - Character Forge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', sans-serif;
            background: #f9fafb;
            color: #1a1a1a;
            line-height: 1.6;
        }

        /* Login Screen */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .login-box {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .login-box h2 {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .login-box p {
            color: #6b7280;
            margin-bottom: 2rem;
        }

        .login-box input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .login-box input:focus {
            outline: none;
            border-color: #667eea;
        }

        .login-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .error-msg {
            color: #ef4444;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }

        .login-overlay.hidden {
            display: none;
        }

        /* Header */
        header {
            background: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.3rem;
            font-weight: 700;
            color: #667eea;
            text-decoration: none;
        }

        .nav-right {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .saved-btn {
            background: #667eea;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
        }

        .saved-btn:hover {
            background: #5568d3;
        }

        .premium-badge {
            background: linear-gradient(135deg, #ffd700 0%, #f59e0b 100%);
            color: #1a1a1a;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
        }

        /* Main Layout */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 320px 1fr;
            gap: 2rem;
            min-height: calc(100vh - 80px);
        }

        /* Sidebar */
        .sidebar {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .sidebar h2 {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: #1a1a1a;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #4a5568;
            font-size: 0.9rem;
        }

        select, input[type="text"], textarea {
            width: 100%;
            padding: 0.7rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: border-color 0.2s;
            background: white;
            font-family: inherit;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        select:focus, input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-group label {
            margin-bottom: 0;
            cursor: pointer;
            font-weight: 500;
        }

        .age-range-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.8rem;
        }

        .age-range-inputs input {
            padding: 0.6rem;
            text-align: center;
        }

        .age-range-display {
            text-align: center;
            color: #667eea;
            font-weight: 600;
            margin-top: 0.5rem;
            font-size: 0.95rem;
        }

        .vibe-slider {
            width: 100%;
            margin-top: 0.5rem;
        }

        .vibe-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #6b7280;
            margin-top: 0.3rem;
        }

        .generate-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 1.5rem;
            transition: all 0.3s;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* Results Area */
        .results {
            background: white;
            border-radius: 16px;
            padding: 3rem;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
            min-height: 500px;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: #6b7280;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #4a5568;
        }

        /* Character Result */
        .character-result {
            display: none;
        }

        .character-result.active {
            display: block;
            animation: fadeIn 0.4s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .character-header {
            text-align: center;
            padding-bottom: 2rem;
            border-bottom: 2px solid #f0f0f0;
            margin-bottom: 2rem;
        }

        .character-header h1 {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .character-subtitle {
            font-size: 1.2rem;
            color: #6b7280;
            font-style: italic;
        }

        .character-section {
            margin-bottom: 2.5rem;
        }

        .character-section h3 {
            font-size: 1.3rem;
            color: #1a1a1a;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-icon {
            font-size: 1.5rem;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .info-item {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .info-label {
            font-size: 0.85rem;
            color: #6b7280;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.3rem;
        }

        .info-value {
            font-size: 1rem;
            color: #1a1a1a;
            font-weight: 500;
        }

        .trait-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
        }

        .trait-tag {
            background: #f0f4ff;
            color: #667eea;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .backstory-text {
            background: #f9fafb;
            padding: 1.5rem;
            border-radius: 8px;
            color: #4a5568;
            line-height: 1.8;
            font-size: 1rem;
        }

        .actions {
            display: flex;
            gap: 1rem;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid #f0f0f0;
        }

        .action-btn {
            flex: 1;
            padding: 1rem;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .action-btn:hover {
            border-color: #667eea;
            color: #667eea;
            transform: translateY(-2px);
        }

        .action-btn.primary {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .action-btn.primary:hover {
            background: #5568d3;
        }

        .action-btn.save {
            background: #10b981;
            color: white;
            border-color: #10b981;
        }

        .action-btn.save:hover {
            background: #059669;
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: relative;
                top: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-box">
            <h2>üõ°Ô∏è Character Forge</h2>
            <p>Premium Access Required</p>
            <input type="password" id="passwordInput" placeholder="Enter password" onkeypress="if(event.key==='Enter') login()">
            <button class="login-btn" onclick="login()">Unlock</button>
            <div class="error-msg" id="errorMsg">Incorrect password. Try again!</div>
        </div>
    </div>

    <header>
        <nav>
            <a href="index.html" class="logo">‚ö° Character Forge</a>
            <div class="nav-right">
                <a href="saved.html" class="saved-btn">üíæ Saved Characters</a>
                <div class="premium-badge">‚ú® Premium</div>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2>Character Settings</h2>
            
            <div class="form-group">
                <label for="storyType">What are you writing?</label>
                <textarea id="storyType" placeholder="e.g., A fantasy novel about a young mage discovering their powers..."></textarea>
            </div>

            <div class="form-group">
                <label for="genre">Genre</label>
                <select id="genre">
                    <option>High Fantasy</option>
                    <option>Urban Fantasy</option>
                    <option>Sci-Fi (Space Opera)</option>
                    <option>Sci-Fi (Cyberpunk)</option>
                    <option>Historical</option>
                    <option>Modern Day</option>
                    <option>Horror</option>
                    <option>Mystery/Thriller</option>
                    <option>Post-Apocalyptic</option>
                </select>
            </div>

            <div class="form-group">
                <label for="role">Character Role</label>
                <select id="role">
                    <option>Protagonist/Hero</option>
                    <option>Antagonist/Villain</option>
                    <option>Sidekick/Companion</option>
                    <option>Mentor</option>
                    <option>Love Interest</option>
                    <option>Anti-Hero</option>
                    <option>Mysterious Stranger</option>
                </select>
            </div>

            <div class="form-group">
                <label>Age Range (Exact)</label>
                <div class="age-range-inputs">
                    <div>
                        <input type="number" id="minAge" value="13" min="1" max="100" onchange="updateAgeDisplay()">
                        <div style="text-align: center; font-size: 0.8rem; color: #6b7280; margin-top: 0.3rem;">Min</div>
                    </div>
                    <div>
                        <input type="number" id="maxAge" value="17" min="1" max="100" onchange="updateAgeDisplay()">
                        <div style="text-align: center; font-size: 0.8rem; color: #6b7280; margin-top: 0.3rem;">Max</div>
                    </div>
                </div>
                <div class="age-range-display" id="ageDisplay">13-17 years old</div>
            </div>

            <div class="form-group">
                <div class="checkbox-group">
                    <input type="checkbox" id="includeNickname">
                    <label for="includeNickname">Include nickname</label>
                </div>
            </div>

            <div class="form-group">
                <label for="vibe">Character Vibe</label>
                <input type="range" id="vibe" class="vibe-slider" min="1" max="5" value="3">
                <div class="vibe-labels">
                    <span>Dark</span>
                    <span>Balanced</span>
                    <span>Light</span>
                </div>
            </div>

            <button class="generate-btn" onclick="generateCharacter()">‚ú® Generate Character</button>
        </aside>

        <!-- Results -->
        <main class="results">
            <div class="empty-state" id="emptyState">
                <div class="empty-state-icon">‚ú®</div>
                <h3>Ready to create magic?</h3>
                <p>Tell us about your story and click Generate to bring your character to life.</p>
            </div>

            <div class="character-result" id="characterResult">
                <!-- Generated content goes here -->
            </div>
        </main>
    </div>

    <script>
        // Password protection
        const PASSWORD = 'roma2026';
        
        function login() {
            const input = document.getElementById('passwordInput');
            const error = document.getElementById('errorMsg');
            const overlay = document.getElementById('loginOverlay');
            
            if (input.value === PASSWORD) {
                overlay.classList.add('hidden');
                sessionStorage.setItem('authenticated', 'true');
            } else {
                error.style.display = 'block';
                input.value = '';
                input.focus();
            }
        }

        // Check if already authenticated
        if (sessionStorage.getItem('authenticated') === 'true') {
            document.getElementById('loginOverlay').classList.add('hidden');
        }

        // Age display update
        function updateAgeDisplay() {
            const min = document.getElementById('minAge').value;
            const max = document.getElementById('maxAge').value;
            document.getElementById('ageDisplay').textContent = `${min}-${max} years old`;
        }

        // Current character (for saving)
        let currentCharacter = null;

        // Character generation data
        const names = {
            fantasy: {
                first: ['Lyra', 'Kael', 'Aria', 'Theron', 'Zara', 'Dorian', 'Elowen', 'Cassius', 'Nova', 'Riven'],
                last: ['Shadowmend', 'Stormweaver', 'Nightwhisper', 'Ironheart', 'Moonblade', 'Ashborne', 'Silverwing', 'Darkwood', 'Starfall', 'Embercrest']
            },
            scifi: {
                first: ['Marcus', 'Zara', 'Nova', 'Kai', 'Phoenix', 'Echo', 'Atlas', 'Cipher', 'Neo', 'Raven'],
                last: ['Chen', 'Reyes', 'Torres', 'Kim', 'Santos', 'Cross', 'Steel', 'Nakamura', 'Voss', 'Quinn']
            },
            modern: {
                first: ['Alex', 'Jordan', 'Morgan', 'Riley', 'Casey', 'Taylor', 'Jamie', 'Sam', 'Quinn', 'Avery'],
                last: ['Anderson', 'Martinez', 'Johnson', 'Lee', 'Williams', 'Garcia', 'Davis', 'Brown', 'Miller', 'Wilson']
            }
        };

        const nicknames = ['Shadow', 'Ghost', 'Spark', 'Ace', 'Red', 'Blue', 'Wolf', 'Fox', 'Raven', 'Phoenix', 'Storm', 'Shade'];
        
        const traits = {
            positive: ['Brave', 'Loyal', 'Creative', 'Witty', 'Compassionate', 'Determined', 'Clever', 'Curious', 'Protective', 'Charismatic'],
            negative: ['Impulsive', 'Stubborn', 'Sarcastic', 'Self-Doubting', 'Secretive', 'Reckless', 'Cynical', 'Perfectionist', 'Impatient', 'Guarded']
        };

        const desires = [
            'to prove themselves worthy',
            'to protect those who cannot protect themselves',
            'to uncover the truth',
            'to find where they truly belong',
            'to make amends for past mistakes',
            'to be free from their destiny',
            'to master their abilities',
            'to change the world for the better'
        ];

        function random(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateCharacter() {
            const genre = document.getElementById('genre').value.toLowerCase();
            const role = document.getElementById('role').value;
            const minAge = parseInt(document.getElementById('minAge').value);
            const maxAge = parseInt(document.getElementById('maxAge').value);
            const includeNickname = document.getElementById('includeNickname').checked;
            const storyType = document.getElementById('storyType').value;

            // Pick name set based on genre
            let nameSet = names.modern;
            if (genre.includes('fantasy')) nameSet = names.fantasy;
            else if (genre.includes('sci-fi')) nameSet = names.scifi;

            const firstName = random(nameSet.first);
            const lastName = random(nameSet.last);
            const nickname = includeNickname ? random(nicknames) : null;
            const fullName = `${firstName} ${lastName}`;

            // Generate age within range
            const ageNum = Math.floor(Math.random() * (maxAge - minAge + 1)) + minAge;

            // Generate traits
            const positiveTraits = [random(traits.positive), random(traits.positive), random(traits.positive)];
            const negativeTraits = [random(traits.negative), random(traits.negative)];
            const allTraits = [...positiveTraits, ...negativeTraits];

            const desire = random(desires);

            // Store current character for saving
            currentCharacter = {
                fullName,
                nickname,
                age: ageNum,
                role,
                genre,
                storyType,
                traits: allTraits,
                positiveTraits,
                negativeTraits,
                desire,
                timestamp: Date.now()
            };

            // Build HTML
            let html = `
                <div class="character-header">
                    <h1>${fullName}</h1>
                    ${nickname ? `<p class="character-subtitle">"${nickname}"</p>` : ''}
                </div>

                <div class="character-section">
                    <h3><span class="section-icon">üìù</span> Basic Info</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">Full Name</div>
                            <div class="info-value">${fullName}</div>
                        </div>
                        ${nickname ? `
                        <div class="info-item">
                            <div class="info-label">Nickname</div>
                            <div class="info-value">"${nickname}"</div>
                        </div>
                        ` : ''}
                        <div class="info-item">
                            <div class="info-label">Age</div>
                            <div class="info-value">${ageNum} years old</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Role</div>
                            <div class="info-value">${role}</div>
                        </div>
                    </div>
                </div>

                <div class="character-section">
                    <h3><span class="section-icon">üé≠</span> Personality</h3>
                    <div class="trait-list">
                        ${allTraits.map(t => `<span class="trait-tag">${t}</span>`).join('')}
                    </div>
                </div>

                <div class="character-section">
                    <h3><span class="section-icon">üí™</span> Strengths & Flaws</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">Strengths</div>
                            <div class="info-value">${positiveTraits.join(', ')}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Flaws</div>
                            <div class="info-value">${negativeTraits.join(', ')}</div>
                        </div>
                    </div>
                </div>

                <div class="character-section">
                    <h3><span class="section-icon">üìñ</span> Character Hook</h3>
                    <div class="backstory-text">
                        ${firstName} is a ${ageNum}-year-old ${role.toLowerCase()} in your ${genre.toLowerCase()} story${storyType ? ': ' + storyType : ''}. 
                        Known for being ${positiveTraits[0].toLowerCase()} yet ${negativeTraits[0].toLowerCase()}, they navigate their world with 
                        ${positiveTraits[1].toLowerCase()} determination. Their journey is shaped by their need ${desire}.
                    </div>
                </div>

                <div class="character-section">
                    <h3><span class="section-icon">üéØ</span> Greatest Desire</h3>
                    <div class="backstory-text">
                        ${desire.charAt(0).toUpperCase() + desire.slice(1)}
                    </div>
                </div>

                <div class="actions">
                    <button class="action-btn save" onclick="saveCharacter()">üíæ Save Character</button>
                    <button class="action-btn" onclick="copyCharacter()">üìã Copy</button>
                    <button class="action-btn" onclick="window.print()">üì• Print</button>
                    <button class="action-btn primary" onclick="generateCharacter()">üîÑ Generate New</button>
                </div>
            `;

            const emptyState = document.getElementById('emptyState');
            const result = document.getElementById('characterResult');
            
            emptyState.style.display = 'none';
            result.innerHTML = html;
            result.classList.add('active');
            
            // Scroll to top of results
            result.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function saveCharacter() {
            if (!currentCharacter) {
                alert('No character to save!');
                return;
            }

            // Get existing saved characters
            let saved = JSON.parse(localStorage.getItem('savedCharacters') || '[]');
            
            // Add current character
            saved.push(currentCharacter);
            
            // Save back to localStorage
            localStorage.setItem('savedCharacters', JSON.stringify(saved));
            
            alert(`‚úÖ ${currentCharacter.fullName} has been saved!`);
        }

        function copyCharacter() {
            const result = document.getElementById('characterResult');
            const text = result.innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert('Character copied to clipboard!');
            });
        }
    </script>
</body>
</html>
